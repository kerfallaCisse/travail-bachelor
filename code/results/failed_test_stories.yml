version: "3.1"
stories:
- story: lister les restaurants dans un pays en l'occurence en  Suisse (.\tests\test_stories.yml)
  steps:
  - intent: salutation
  - action: utter_salutation
  - intent: affirmation
  - action: utter_affrimation
  - intent: lister_restaurants  # predicted: nlu_fallback: donne moi les restaurants qui sont en [Suisse][{"entity": "type_cuisine", "value": "suisse"}, {"entity": "nom_pays", "value": "suisse"}]
    entities:
    - nom_pays: Suisse  # predicted: type_cuisine: suisse
    - nom_pays: Suisse
  - slot_was_set:
    - nom_pays: Suisse
  - action: action_set_limit_intent
  - slot_was_set:
    - rest_ville: false
  - intent: query_limitation
    entities:
    - query_limit: '10'
  - slot_was_set:
    - query_limit: '10'
  - action: action_lister_restaurants
- story: donner les informations concernant un restaurant lorsque l'utilisateur le mentionne avec une mention (.\tests\test_stories.yml)
  steps:
  - intent: salutation
  - action: utter_salutation
  - intent: affirmation
  - action: utter_affrimation
  - intent: lister_restaurants  # predicted: nlu_fallback: donne moi les restaurants qui sont en [Suisse][{"entity": "type_cuisine", "value": "suisse"}, {"entity": "nom_pays", "value": "suisse"}]
    entities:
    - nom_pays: Suisse  # predicted: type_cuisine: suisse
    - nom_pays: Suisse
  - slot_was_set:
    - nom_pays: Suisse
  - action: action_set_limit_intent
  - slot_was_set:
    - rest_ville: false
  - intent: query_limitation
    entities:
    - query_limit: '14'
  - slot_was_set:
    - query_limit: '14'
  - action: action_lister_restaurants
  - intent: mention_restaurant
    entities:
    - mention: premier
  - slot_was_set:
    - mention: premier
  - action: action_resolve_mention
- story: donner les informations concernant un restaurant lorsque l'utilisateur mentionne le nom du restaurant (.\tests\test_stories.yml)
  steps:
  - intent: salutation
  - action: utter_salutation
  - intent: affirmation
  - action: utter_affrimation
  - intent: lister_restaurants  # predicted: nlu_fallback: donne moi les restaurants qui sont en [Suisse][{"entity": "type_cuisine", "value": "suisse"}, {"entity": "nom_pays", "value": "suisse"}]
    entities:
    - nom_pays: Suisse  # predicted: type_cuisine: suisse
    - nom_pays: Suisse
  - slot_was_set:
    - nom_pays: Suisse
  - action: action_set_limit_intent
  - slot_was_set:
    - rest_ville: false
  - intent: query_limitation
    entities:
    - query_limit: '14'
  - slot_was_set:
    - query_limit: '14'
  - action: action_lister_restaurants
  - intent: infos_rest_name
    entities:
    - rest_name: Piz Gloria
  - slot_was_set:
    - rest_name: Piz Gloria
  - action: action_infos_rest_name
- story: donner les informations concernant un restaurant lorsque l'utilisateur le mentionne avec une mention mais en passant par les restaurants d'une ville (.\tests\test_stories.yml)
  steps:
  - intent: salutation
  - action: utter_salutation
  - intent: affirmation
  - action: utter_affrimation
  - intent: restaurants_city
    entities:
    - city: Onex
  - slot_was_set:
    - city: Onex
  - action: action_set_limit_intent
  - slot_was_set:
    - rest_ville: true
  - intent: query_limitation
    entities:
    - query_limit: '13'
  - slot_was_set:
    - query_limit: '13'
  - action: action_restaurants_city
  - intent: mention_restaurant
    entities:
    - mention: 2ème  # predicted: query_limit: 2
    - mention: 2ème
  - slot_was_set:
    - mention: 2ème
  - action: action_resolve_mention
- story: lister les restaurants dans une ville avec le type de cuisine correspondant à celui mentionné par l'utilisateur (.\tests\test_stories.yml)
  steps:
  - intent: salutation
  - action: utter_salutation
  - intent: affirmation
  - action: utter_affrimation
  - intent: rest_cuisine
    entities:
    - type_cuisine: australienne
    - city: Soleure
  - slot_was_set:
    - city: Soleure
  - slot_was_set:
    - type_cuisine: australienne
  - action: action_set_limit_intent  # predicted: action_fallback
  - slot_was_set:
    - cuisine_type: true
  - action: action_listen  # predicted: action_fallback
  - intent: query_limitation
    entities:
    - query_limit: '6'
  - slot_was_set:
    - query_limit: '6'
  - action: action_cuisine_type
